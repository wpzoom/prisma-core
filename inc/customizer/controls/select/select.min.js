!function(e){"use strict";wp.customize.controlConstructor["sinatra-select"]=wp.customize.Control.extend({ready:function(){var t=this;t.params.is_select2&&(t.container.find(".sinatra-select-control").select2({placeholder:sinatra_customizer_localized.strings.selectCategory,allowClear:!0}),t.container.on("select2:opening",".sinatra-select-control",function(){t.populate_select2(),t.container.off("select2:opening",".sinatra-select-control")}),t.container.on("select2:select select2:unselect select2:clear",".sinatra-select-control",function(){e(this).val()||t.setting.set([])}))},populate_select2:function(t){var n=this,c="",s="",l=n.setting.get();""===l["font-family"]&&(s=' selected="selected"'),e.each(n.params.choices,function(e,t){s="",(l&&n.params.multiple&&-1!==l.indexOf(e)||!n.params.multiple&&e===l)&&(s=' selected="selected"'),c+='<option value="'+e+'"'+s+">"+t+"</option>"}),n.container.find(".sinatra-select-control").html(c)}})}(jQuery);