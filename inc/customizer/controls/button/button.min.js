!function(a){wp.customize.controlConstructor["sinatra-button"]=wp.customize.Control.extend({ready:function(){"use strict";this.container.on("click",".button",function(t){var n=a(this),o=n.data("ajax-action");if(o){t.preventDefault(),n.siblings(".spinner").addClass("activated");var i={_ajax_nonce:sinatra_customizer_localized.wpnonce,action:o};a.post(sinatra_customizer_localized.ajaxurl,i,function(a){a.success&&(n.siblings(".spinner").removeClass("activated"),void 0!==a.data.reload&&a.data.reload&&location.reload())})}})}})}(jQuery);